(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{6200:function(e,r,n){"use strict";n.r(r),n.d(r,{default:function(){return _}});var t=n(5893),o=n(4096),c=n(51),s=n(9249),i=(n(733),n(8017)),a=n(4115),l=n(9125);function u(){var e=(0,l.Q)(),r=e.accounts,n=e.inList,c=e.myTokenBalance,s=e.tokenSymbol,u=r?"".concat(r[0].substr(0,5),"...").concat(r[0].substr(-5)):"0x000...0000";return(0,t.jsx)(i.xu,{bg:"#2F2F2F",width:"100%",align:"center",children:(0,t.jsxs)(o.k,{justify:"space-between",py:"15",align:"center",maxW:1100,children:[(0,t.jsxs)(a.x,{fontSize:"34",fontWeight:"bold",children:[s," Token Sale"]}),(0,t.jsxs)(o.k,{bg:"black",p:"3",borderRadius:"10",fontWeight:"bold",align:"flex-end",justify:"center",direction:"column",children:[(0,t.jsx)(a.x,{fontSize:"15",children:u}),(0,t.jsxs)(o.k,{direction:"row",children:[n?(0,t.jsx)(a.x,{fontSize:"12",mr:"1",color:"green.500",children:"approved"}):(0,t.jsx)(a.x,{fontSize:"12",mr:"1",color:"red.500",children:"not approved"}),(0,t.jsxs)(a.x,{fontSize:"12",color:"blue.500",children:[c," SPX"]})]})]})]})})}function d(){var e=(0,l.Q)(),r=e.isOwner,n=e.inList,o="Hello Traveler";return r?o="Hellow Owner \\o/":n&&(o="Hello Traveler your are in the club!"),(0,t.jsx)(a.x,{fontWeight:"bold",color:"blue.500",children:o})}var f=n(6265),p=n(809),b=n.n(p),x=n(2447),h=n(6185),j=n(1554),m=n(2283);function y(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),n.push.apply(n,t)}return n}function g(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?y(Object(n),!0).forEach((function(r){(0,f.Z)(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}function k(){var e=(0,l.Q)(),r=e.kycContract,n=e.isOwner,o=e.accounts,i=e.inList,u=(e.setInList,e.clubRate),d=(0,m.cI)(),f=d.register,p=d.handleSubmit,y=function(){var e=(0,x.Z)(b().mark((function e(t){var c,i,a;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r||!o){e.next=25;break}return c=t||o[0],e.prev=2,e.next=5,r.kycCompleted(c);case 5:if(i=e.sent,a="".concat(c.substr(1,4),"...").concat(c.substr(-4)),!i){e.next=11;break}s.Am.warning("".concat(a," is already in the list")),e.next=19;break;case 11:if(!n){e.next=16;break}return e.next=14,r.setKycCompleted(c);case 14:e.next=18;break;case 16:return e.next=18,r.buyKyc({value:u});case 18:s.Am.info("Transaction sent, waiting confirmation to join the club");case 19:e.next=25;break;case 21:e.prev=21,e.t0=e.catch(2),s.Am.error("Error to process this address or you are not allowed"),console.error("Error to process this address or you are not allowed`",e.t0);case 25:case"end":return e.stop()}}),e,null,[[2,21]])})));return function(r){return e.apply(this,arguments)}}(),k=function(){var e=(0,x.Z)(b().mark((function e(r){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:y(r.kycAddress);case 1:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),w=function(){var e=(0,x.Z)(b().mark((function e(){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o&&y(o[0]);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O="Join the club to be able to buy tokens!";return n&&(O="You are not in the club!"),(0,t.jsxs)(c.gC,{spacing:"5",fontWeight:"bold",align:"flex-start",children:[!i&&(0,t.jsxs)(c.gC,{align:"flex-start",as:"form",onSubmit:p(w),spacing:"2",children:[(0,t.jsx)(a.x,{children:O}),(0,t.jsx)(h.z,{size:"lg",colorScheme:"blackAlpha",type:"submit",children:"Join Club"}),!n&&(0,t.jsxs)(a.x,{fontSize:"12",color:"red.300",children:[" * Only ",u," wei "]})]}),!n&&!i&&(0,t.jsx)(a.x,{children:"You can also contact the owner to try to get in for free"}),n&&(0,t.jsxs)(c.gC,{align:"flex-start",spacing:"3",as:"form",onSubmit:p(k),children:[(0,t.jsx)(a.x,{children:"Add your friends to the club"}),(0,t.jsx)(j.I,g(g({},f("kycAddress")),{},{label:"KYC Address",type:"text"})),(0,t.jsx)(h.z,{mt:"3",size:"lg",colorScheme:"blackAlpha",type:"submit",children:"Add address"})]})]})}var w=n(2593),O=n(7616);function v(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),n.push.apply(n,t)}return n}function S(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?v(Object(n),!0).forEach((function(r){(0,f.Z)(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}function P(){var e=(0,l.Q)(),r=e.currentSupply,n=e.tokenSymbol,o=e.accounts,i=e.tokenRate,u=e.myTokenSaleContract,d=e.myTokenContract,f=(0,m.cI)(),p=f.register,y=f.handleSubmit,g=function(){var e=(0,x.Z)(b().mark((function e(r){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.tokens>0&&o&&u)){e.next=11;break}return e.prev=1,e.next=4,u.buyTokens(o[0],{value:w.O$.from(r.tokens)});case 4:s.Am.info("Transaction sent, balance will updated once confirmed"),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),s.Am.error("Error sending transaction"),console.error("Error sending transaction",e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(r){return e.apply(this,arguments)}}(),k=function(){var e=(0,x.Z)(b().mark((function e(){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.ethereum){e.next=3;break}return e.next=3,window.ethereum.request({method:"wallet_watchAsset",params:{type:"ERC20",options:{address:d.address,symbol:n,decimals:0}}});case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,t.jsxs)(c.gC,{fontWeight:"bold",spacing:"5",align:"flex-start",children:[(0,t.jsxs)(a.x,{color:"yellowgreen",children:["Current Token Supply ",r," ",n]}),(0,t.jsxs)(c.gC,{as:"form",onSubmit:y(g),spacing:"2",align:"flex-start",children:[(0,t.jsx)(a.x,{children:"How many tokens you want to buy?"}),(0,t.jsx)(j.I,S(S({},p("tokens")),{},{defaultValue:"5",label:"amount",type:"number"})),(0,t.jsx)(h.z,{size:"lg",colorScheme:"blackAlpha",type:"submit",children:"Buy Tokens"}),(0,t.jsxs)(a.x,{fontSize:"12",color:"red.300",children:[" * Only ",i," wei each"]})]}),(0,t.jsx)(a.x,{children:"You can also send weis to the following address to obtain tokens"}),(0,t.jsxs)(a.x,{fontSize:"14",color:"red.300",children:["Token value in ETH: ",O.bM(i,"ether")]}),(0,t.jsxs)(a.x,{fontSize:"14",color:"green.300",children:["Address to send wei: ",u&&u.address]}),(0,t.jsxs)(h.z,{colorScheme:"orange",onClick:function(){return k()},children:["Add ",n," to Metamask"]})]})}function C(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),n.push.apply(n,t)}return n}function z(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?C(Object(n),!0).forEach((function(r){(0,f.Z)(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}function T(){var e=(0,l.Q)(),r=e.tokenSymbol,n=e.accounts,o=e.myTokenContract,i=e.myTokenSaleContract,u=(0,m.cI)(),d=u.register,f=u.handleSubmit,p=function(){var e=(0,x.Z)(b().mark((function e(r){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.tokens>0&&n&&o&&i)){e.next=11;break}return e.prev=1,e.next=4,o.mint(i.address,r.tokens);case 4:s.Am.info("Transaction sent, token will be minted once confirmed"),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),s.Am.error("Error on token mint"),console.error("Error on token mint",e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(r){return e.apply(this,arguments)}}();return(0,t.jsxs)(c.gC,{fontWeight:"bold",spacing:"5",align:"flex-start",children:[(0,t.jsxs)(a.x,{children:["Mine ",r," Token!"]}),(0,t.jsxs)(c.gC,{as:"form",onSubmit:f(p),spacing:"2",align:"flex-start",children:[(0,t.jsx)(j.I,z(z({},d("tokens")),{},{defaultValue:"5",label:"amount",type:"number"})),(0,t.jsx)(h.z,{size:"lg",colorScheme:"blackAlpha",type:"submit",children:"Mine Tokens"})]})]})}var A=n(829);n(7294);function E(e){var r=e.message,n=e.error,o=void 0!==n&&n,i=o&&!0===o?"red.400":"blue.400";return(0,t.jsxs)(c.Ug,{spacing:"2",align:"center",justify:"center",m:"10",p:"10",children:[(0,t.jsx)(a.x,{fontSize:"42",color:i,children:r}),!o&&(0,t.jsx)(A.$,{size:"lg"}),(0,t.jsx)(s.Ix,{})]})}var _=function(){var e=(0,l.Q)(),r=(e.accounts,e.isOwner),n=e.loaded,i=e.loadedOk,a=e.inList;return e.myTokenContract,n?i?(0,t.jsxs)(o.k,{w:"100%",h:"100vh",mh:"auto",direction:"column",align:"center",children:[(0,t.jsx)(u,{}),(0,t.jsxs)(c.gC,{pb:"100",maxW:1100,w:"100%",fontSize:"34",m:"5",spacing:"10",align:"flex-start",children:[(0,t.jsx)(d,{}),a&&(0,t.jsx)(P,{}),(0,t.jsx)(k,{}),r&&a&&(0,t.jsx)(T,{})]}),(0,t.jsx)(s.Ix,{})]}):(0,t.jsx)(E,{message:"Error loading dApp",error:!0}):(0,t.jsx)(E,{message:"Loading web3..."})}},5301:function(e,r,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(6200)}])}},function(e){e.O(0,[506,774,888,179],(function(){return r=5301,e(e.s=r);var r}));var r=e.O();_N_E=r}]);